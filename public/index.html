<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Signal & Noise: AI Secret Exchange</title>
  <link rel="stylesheet" href="css/styles.css">
  <link href="https://fonts.googleapis.com/css2?family=Space+Mono&display=swap" rel="stylesheet">
</head>
<body>
  <div class="app-container">
    <header>
      <h1>Signal & Noise</h1>
      <div class="score-container">
        <div class="team-score">
          <p class="team-name">Sender/Receiver</p>
          <p class="score" id="sender-receiver-score">0</p>
        </div>
        <p class="score-divider">:</p>
        <div class="team-score">
          <p class="team-name">Observer</p>
          <p class="score" id="observer-score">0</p>
        </div>
      </div>
    </header>

    <!-- Game Setup Screen -->
    <div id="setup-screen" class="game-setup">
      <h2>Game Setup</h2>
      <p class="info-text">
        In this game, the Sender tries to communicate a secret word to the Receiver while preventing the Observer from figuring it out. Select which AI models will play each role.
      </p>
      <form class="setup-form" id="setup-form">
        <div class="form-group">
          <label for="model-one">Model One:</label>
          <select class="model-select" id="model-one" required>
            <!-- Will be populated dynamically -->
          </select>
        </div>
        <div class="form-group">
          <label for="model-two">Model Two:</label>
          <select class="model-select" id="model-two" required>
            <!-- Will be populated dynamically -->
          </select>
        </div>
        <button type="submit" class="primary-btn">Start Game</button>
      </form>
    </div>

    <!-- Game Board Screen (initially hidden) -->
    <div id="game-screen" style="display: none;">
      <div class="game-board">
        <!-- Game Info Bar -->
        <div class="game-info">
          <div class="round-info">
            <p class="label">Round</p>
            <p class="value" id="round-number">1</p>
          </div>
          <div class="game-word-container">
            <p class="label">Secret Word</p>
            <p class="value" id="game-word">****</p>
          </div>
          <div class="active-team-container">
            <p class="label">Sender/Receiver</p>
            <p class="value" id="sender-receiver-display">-</p>
          </div>
          <div class="role-info">
            <p class="label">Observer</p>
            <p class="value" id="observer-display">-</p>
          </div>
        </div>
        
        <!-- Message Area -->
        <div class="message-area" id="message-area">
          <!-- Messages will be added here dynamically -->
        </div>
        
        <!-- History Panel -->
        <div class="history-panel">
          <h3>Round History</h3>
          <div class="round-list" id="round-history">
            <!-- Round history will be added here dynamically -->
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Result Summary (shown at game end, initially hidden) -->
  <div id="result-summary" class="result-summary" style="display: none;">
    <div class="result-container">
      <h2>Game Over</h2>
      <p>The secret word was: <span id="secret-word">word</span></p>
      <div class="final-scores">
        <div class="team-score">
          <p class="team-name">Model One</p>
          <p class="score" id="final-sender-score">0</p>
        </div>
        <div class="team-score">
          <p class="team-name">Model Two</p>
          <p class="score" id="final-observer-score">0</p>
        </div>
      </div>
      <p id="winning-team">Sender/Receiver Team Wins!</p>
      <div class="result-actions">
        <button class="secondary-btn" id="continue-viewing-btn">Continue Viewing</button>
        <button class="primary-btn" id="new-game-btn">Play Again</button>
      </div>
    </div>
  </div>

  <script src="js/app.js"></script>
</body>
</html>